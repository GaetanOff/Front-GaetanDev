<div class="relative min-h-screen w-full max-w-full overflow-x-hidden flex flex-col items-center justify-start p-4">
  <ngx-sonner-toaster position="bottom-left" richColors />

  @if (!isAdminRoute()) {
    <div class="absolute top-0 -left-4 w-72 h-72 bg-green-400 rounded-full mix-blend-multiply filter blur-xl opacity-50 animate-blob"></div>
    <div class="absolute top-0 -right-4 w-72 h-72 bg-teal-300 rounded-full mix-blend-multiply filter blur-xl opacity-50 animate-blob animation-delay-2000"></div>
    <div class="absolute bottom-0 left-20 w-72 h-72 bg-lime-400 rounded-full mix-blend-multiply filter blur-xl opacity-50 animate-blob animation-delay-4000"></div>

    <header class="fixed top-4 md:top-6 z-50 w-full px-4 max-w-full flex justify-center">
    <nav class="bg-white/20 backdrop-blur-lg rounded-2xl md:rounded-full shadow-lg px-4 py-2 w-full md:w-auto overflow-hidden">
      <!-- Desktop Menu -->
      <div class="hidden md:flex items-center justify-center space-x-4 md:space-x-6">
        <a [routerLink]="getLocalizedRoute('/')" routerLinkActive="font-bold scale-110" [routerLinkActiveOptions]="{exact: true}" class="text-white hover:text-gray-200 transition-all duration-300 px-2 transform">{{ i18n.text().navbar.home }}</a>
        <a [routerLink]="getLocalizedRoute('/about')" routerLinkActive="font-bold scale-110" class="text-white hover:text-gray-200 transition-all duration-300 px-2 transform">{{ i18n.text().navbar.about }}</a>
        <a [routerLink]="getLocalizedRoute('/achievements')" routerLinkActive="font-bold scale-110" class="text-white hover:text-gray-200 transition-all duration-300 px-2 transform">{{ i18n.text().navbar.achievements }}</a>
        <a [routerLink]="getLocalizedRoute('/contact')" routerLinkActive="font-bold scale-110" class="text-white hover:text-gray-200 transition-all duration-300 px-2 transform">{{ i18n.text().contact.title }}</a>
        <button (click)="onSwitchLanguage()" class="w-8 h-8 rounded-full focus:outline-none focus:ring-2 focus:ring-white/50 transition-transform transform hover:scale-110">
          <img [src]="languageImg()" alt="Language flag" class="w-full h-full object-cover rounded-full">
        </button>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden flex items-center justify-between">
        <button (click)="toggleMenu()" class="text-white focus:outline-none focus:ring-2 focus:ring-white/50 rounded-lg p-2">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            @if (!isMenuOpen()) {
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            } @else {
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            }
          </svg>
        </button>
        <button (click)="onSwitchLanguage()" class="w-8 h-8 rounded-full focus:outline-none focus:ring-2 focus:ring-white/50 transition-transform transform hover:scale-110">
          <img [src]="languageImg()" alt="Language flag" class="w-full h-full object-cover rounded-full">
        </button>
      </div>

      <!-- Mobile Menu Dropdown -->
      @if (isMenuOpen()) {
        <div class="md:hidden mt-4 pb-2 space-y-2">
          <a [routerLink]="getLocalizedRoute('/')" routerLinkActive="font-bold scale-110" [routerLinkActiveOptions]="{exact: true}" (click)="closeMenu()" class="block text-white hover:text-gray-200 transition-all duration-300 px-4 py-2 rounded-lg hover:bg-white/10">{{ i18n.text().navbar.home }}</a>
          <a [routerLink]="getLocalizedRoute('/about')" routerLinkActive="font-bold scale-110" (click)="closeMenu()" class="block text-white hover:text-gray-200 transition-all duration-300 px-4 py-2 rounded-lg hover:bg-white/10">{{ i18n.text().navbar.about }}</a>
          <a [routerLink]="getLocalizedRoute('/achievements')" routerLinkActive="font-bold scale-110" (click)="closeMenu()" class="block text-white hover:text-gray-200 transition-all duration-300 px-4 py-2 rounded-lg hover:bg-white/10">{{ i18n.text().navbar.achievements }}</a>
          <a [routerLink]="getLocalizedRoute('/contact')" routerLinkActive="font-bold scale-110" (click)="closeMenu()" class="block text-white hover:text-gray-200 transition-all duration-300 px-4 py-2 rounded-lg hover:bg-white/10">{{ i18n.text().contact.title }}</a>
        </div>
      }
    </nav>
    </header>

    <main class="relative z-10 w-full max-w-5xl xl:max-w-6xl 2xl:max-w-7xl mt-20 md:mt-24 mb-12 flex-grow">
      <div class="bg-black/20 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 md:p-12 xl:p-16 2xl:p-20 h-full">
        <router-outlet></router-outlet>
      </div>
    </main>

    <footer class="relative z-10 w-full max-w-5xl xl:max-w-6xl 2xl:max-w-7xl mb-4">
      <div class="bg-black/20 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20 px-6 py-4 text-white text-center">
        <div class="flex justify-center space-x-6 mb-2">
          <a [routerLink]="getLocalizedRoute('/legal')" class="text-sm text-gray-300 hover:text-white transition-colors">{{ i18n.text().footer.legal }}</a>
          <a [routerLink]="getLocalizedRoute('/legal/cgv')" class="text-sm text-gray-300 hover:text-white transition-colors">{{ i18n.text().footer.cgv }}</a>
        </div>
        <p class="text-xs text-gray-400">{{ i18n.text().footer.devWithLove }}</p>
      </div>
    </footer>
  }

  @if (isAdminRoute()) {
    <router-outlet></router-outlet>
  }
</div>
